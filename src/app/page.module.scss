@use "@porsche-design-system/components-js/styles" as *;

.main {
  display: flex;
  flex-direction: column;
  flex: 1;
}

.foss-movement {
  background: linear-gradient(
    175deg,
    $pds-theme-dark-background-base 10%,
    rgb(250 127 225 / 10%) 50%,
    $pds-theme-dark-background-base 90%
  );
}

.intro {
  grid-column: $pds-grid-narrow-column-start / $pds-grid-narrow-column-end !important;
  margin-top: $pds-spacing-fluid-x-large;
  margin-bottom: $pds-spacing-fluid-xx-large;
}

.documentation {
  .text {
    grid-column: $pds-grid-narrow-column-start / $pds-grid-narrow-column-end !important;
    margin-bottom: $pds-spacing-fluid-medium;
    grid-row: 2;
  }
  .cta {
    justify-self: center;
    grid-column: $pds-grid-narrow-column-start / $pds-grid-narrow-column-end !important;
    grid-row: 3;
  }
}

.keyvalues {
  margin-bottom: $pds-spacing-fluid-x-large;
  grid-column: $pds-grid-narrow-column-start / $pds-grid-narrow-column-end;
}

.memberships {
  margin-top: $pds-spacing-fluid-xx-large;
  grid-column: $pds-grid-basic-column-start / $pds-grid-basic-column-end;
  align-items: center;
}

/* Open Source Software Notice – table styles */

/* Layout */
.container {
  width: 100%;
  padding: 2rem 1rem;
}
.headerWrap,
.divider,
.table {
  max-width: 72rem;
  margin-inline: auto;
}

.title {
  font-weight: 600;
  letter-spacing: -0.01em;
  line-height: 1.2;
  font-size: clamp(1.875rem, 1.4rem + 1.2vw, 2.25rem);
}
.intro {
  margin-top: 0.75rem;
  font-size: clamp(0.875rem, 0.8rem + 0.3vw, 1rem);
  line-height: 1.6;
}

.divider {
  margin-top: 1.5rem;
  border-top: 1px solid var(--border-color, #e5e7eb);
}
.footerDivider {
  margin-top: 2rem;
}

/* Table wrapper */
.table {
  margin-top: 0.5rem;
  overflow: hidden;
  border: 1px solid var(--border-color, #e5e7eb);
  border-radius: 1rem;
  background: transparent; /* works on dark themes */
}

/* Grid (always 12 cols) */
.grid {
  display: grid;
  grid-template-columns: repeat(12, minmax(0, 1fr));
}

/* Column spans: 5 / 5 / 2 */
.colSoftware {
  grid-column: span 5 / span 5;
}
.colVehicles {
  grid-column: span 5 / span 5;
}
.colSop {
  grid-column: span 2 / span 2;
}

/* Header row */
.headerRow {
  font-weight: 600;
  font-size: 0.875rem;
}
.th {
  padding: 0.75rem 1rem;
  border-bottom: 1px solid var(--border-color, #e5e7eb);
}

/* Body rows */
.rows {
  list-style: none;
  margin: 0;
  padding: 0;
}
.row {
  font-size: 1rem;
  background: transparent;
}
.rowAlt {
  background: rgba(255, 255, 255, 0.02);
} /* subtle stripe for dark themes */
.row + .row {
  border-top: 1px solid var(--border-color, #e5e7eb);
}

.td {
  padding: 1rem;
}
.tdFull {
  grid-column: 1 / -1;
} /* span all columns for empty state */
.wrap {
  word-break: break-word;
}

/* Link */
.link {
  text-decoration: none;
}
.link:hover {
  text-decoration: underline;
}

/* Optional: dark-scheme border tweak */
@media (prefers-color-scheme: dark) {
  .table {
    border-color: rgba(255, 255, 255, 0.12);
  }
  .th,
  .row + .row {
    border-color: rgba(255, 255, 255, 0.12);
  }
}

/* Attachments under the Software cell */
.attachments {
  margin-top: 0.25rem;
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}
.attachmentChip {
  font-size: 0.75rem;
  line-height: 1;
  padding: 0.25rem 0.5rem;
  border: 1px solid var(--border-color, #e5e7eb);
  border-radius: 9999px;
  text-decoration: none;
  opacity: 0.9;
}
.attachmentChip:hover {
  text-decoration: underline;
  opacity: 1;
}

/* ===== Text alignment + vertical gap ===== */
.ossn {
  /* center title + intro */
  .headerWrap {
    text-align: center;
  }
  .title {
    margin: 0 auto;
  }
  .intro {
    margin: 0.5rem auto 0;
  } /* removed fixed max-width */

  /* reduce space between intro and table */
  .divider {
    margin-top: 0.75rem;
  }
  .table {
    margin-top: 0.75rem;
  }

  /* --- Vertical gap controls --- */
  --ossn-leading: 1.85; /* line-height for body text in table */
  --ossn-th-leading: 1.6; /* line-height for header cells */
  --ossn-row-py: 1.15rem; /* vertical padding for body cells */
  --ossn-th-py: 1rem; /* vertical padding for header cells */

  .title {
    line-height: 1.6;
  } /* title wraps */
  .intro {
    line-height: var(--ossn-leading);
  }
  .th {
    line-height: var(--ossn-th-leading);
    padding-block: var(--ossn-th-py);
  }
  .td {
    line-height: var(--ossn-leading);
    padding-block: var(--ossn-row-py);
  }

  /* more vertical breathing room for attachment chips */
  .attachments {
    row-gap: 0.75rem;
  }
}

/* Optional a11y focus */
.link:focus-visible,
.attachmentChip:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 2px;
}

/* ==== Responsive intro: wrap on small screens, one line on wide ==== */
/* Mobile-first: allow wrapping */
.ossn .headerWrap .intro {
  margin: 0.5rem auto 0;
  text-align: center;
  display: block;

  /* wrap on small screens */
  white-space: normal;
  overflow: visible;
  text-overflow: clip;

  /* fit phones nicely */
  max-width: clamp(40ch, 92vw, 110ch);
}

/* ≥ 1024px (desktop): force single line with ellipsis */
@media (min-width: 1024px) {
  .ossn .headerWrap .intro {
    max-width: 100%;
    display: inline-block; /* reliable ellipsis */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
}
